# Serial MIDI Bridge GUI Application

This project is a graphical user interface (GUI) application for a Serial MIDI bridge. It allows users to connect MIDI devices via a serial port and manage MIDI input and output through a modern and simple interface.

This app is based on the [serialmidi](https://github.com/raspy135/serialmidi) repository, which provides a user-friendly way convert serial data to MIDI messages and vice versa. 

The GUI enhances the usability of the original project by providing a visual representation of the MIDI connections and settings.

## Project Structure

```
serialmidi-gui-app
├── src
│   ├── serialmidi.py        # Main logic for the Serial MIDI bridge
│   ├── gui.py               # GUI implementation using PyQt/PySide
│   └── assets
│       └── styles.qss       # Stylesheet for customizing the GUI appearance
├── requirements.txt         # List of dependencies
├── setup.py                 # Packaging configuration
└── README.md                # Project documentation
```

## Installation

To install the required dependencies, run the following command:

```
pip install -r requirements.txt
```

## Usage

To run the application, execute the following command:

```
python src/gui.py
```

Make sure to have your MIDI devices connected and specify the correct serial port in the GUI settings.

## Dependencies

This project requires the following Python packages:

- PyQt or PySide (for GUI)
- rtmidi (for MIDI handling)
- pyserial (for serial communication)

## Create a binary file

To create a binary file for the application, you can use `pyinstaller`. First, install it if you haven't already:

```
pip install pyinstaller
```

Then, run the following command in the terminal:

. Navigate to Your Project Directory
Change to the directory where your main script (gui.py) is located:

```bash
cd path/to/EA-serialmidi-bridge/src
```

### Run PyInstaller

Use PyInstaller to create a standalone executable. The `--windowed` option prevents a console window from appearing when you run the GUI application.
```bash
pyinstaller --windowed --name "EASerialMIDIBridge" gui.py
```
This will create a `dist` folder containing the executable file for your application. You can find the binary file named `EASerialMIDIBridge` inside the `dist` folder.
You can now distribute this binary file to run the application without requiring users to install Python or any dependencies.

### Include Additional Files

Your application uses external files like styles.qss. PyInstaller does not include these files by default. To include them:

1. Edit the .spec file generated by PyInstaller (e.g., EASerialMIDIBridge.spec).

2. Add the styles.qss file to the datas section:

```bash
datas=[('assets/styles.qss', 'assets')],
```

The datas section should look like this:
```bash
a = Analysis(
    ['gui.py'],
    pathex=['/Users/ezequielabregu/code/laboratory/serialmidi copy/serialmidi-gui-app/src'],
    binaries=[],
    datas=[('assets/styles.qss', 'assets')],
    ...
)
```
Save the .spec file.

5. Rebuild the Binary

```bash
pyinstaller EASerialMIDIBridge.spec
```

### Handle Common Issues

- Missing Files: If the app crashes due to missing files, ensure they are included in the datas section of the .spec file.
- Hidden Imports: If the app crashes due to missing modules, add them to the hiddenimports list in the .spec file:

```bash
hiddenimports=['rtmidi._rtmidi'],
```

### Optional: Code Signing and Notarization

If you plan to distribute the app to other macOS users, you may need to code-sign and notarize it to avoid Gatekeeper warnings:

#### Code Signing:

```bash
codesign --deep --force --verify --sign "Developer ID Application: Your Name (TeamID)" dist/EASerialMIDIBridge/EASerialMIDIBridge.app
```   

#### Notarization: 

Submit the app to Apple for notarization:

```bash
xcrun altool --notarize-app --primary-bundle-id "com.yourdomain.EASerialMIDIBridge" --username "your-apple-id" --password "app-specific-password" --file dist/EASerialMIDIBridge/EASerialMIDIBridge.app
```

## License

This project is licensed under the MIT License. See the LICENSE file for more details.
